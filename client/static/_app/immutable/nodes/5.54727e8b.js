import{S as q,i as z,s as G,a4 as B,k as v,a as L,y as D,l as $,m as b,h as g,c as P,z as O,n as d,b as j,L as f,A as T,g as y,d as I,f as J,a5 as K,a6 as Q,a7 as W,B as N,H as k,o as X,q as Y,r as Z,u as x,v as ee}from"../chunks/index.7bf39313.js";import{g as ae,c as te}from"../chunks/pocketbase.c6bc3d05.js";import{R as re}from"../chunks/rooms.5441823f.js";import{L as se,D as C,P as H}from"../chunks/constant.407e1c3c.js";import{A as oe,r as le,a as ne}from"../chunks/store.f4ca8b1d.js";import{C as F}from"../chunks/types.88dddc30.js";import{g as M}from"../chunks/util.8bfa846c.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.6842832c.js";import{L as ie}from"../chunks/LightSwitch.5cbe1102.js";const ce=!1,Ee=Object.freeze(Object.defineProperty({__proto__:null,prerender:ce},Symbol.toStringTag,{value:"Module"}));function V(c){let r,l,o,n,p,u,s,E=c[0].username+"",_,A,m,e;return n=new oe({props:{src:M(F.User,c[0].id,c[0].avatar)||C,width:"w-8"}}),m=new ie({props:{bgDark:"bg-neutral-900/90"}}),{c(){r=v("div"),l=v("span"),o=v("a"),D(n.$$.fragment),p=L(),u=v("a"),s=v("span"),_=Y(E),A=L(),D(m.$$.fragment),this.h()},l(i){r=$(i,"DIV",{class:!0});var t=b(r);l=$(t,"SPAN",{class:!0});var a=b(l);o=$(a,"A",{href:!0});var h=b(o);O(n.$$.fragment,h),h.forEach(g),a.forEach(g),p=P(t),u=$(t,"A",{href:!0,class:!0});var S=b(u);s=$(S,"SPAN",{class:!0});var w=b(s);_=Z(w,E),w.forEach(g),S.forEach(g),A=P(t),O(m.$$.fragment,t),t.forEach(g),this.h()},h(){d(o,"href",H),d(l,"class","w-8"),d(s,"class","whitespace-nowrap overflow-hidden text-ellipsis"),d(u,"href",H),d(u,"class","flex-auto"),d(r,"class","w-full inline-flex gap-2 items-center")},m(i,t){j(i,r,t),f(r,l),f(l,o),T(n,o,null),f(r,p),f(r,u),f(u,s),f(s,_),f(r,A),T(m,r,null),e=!0},p(i,t){const a={};t&1&&(a.src=M(F.User,i[0].id,i[0].avatar)||C),n.$set(a),(!e||t&1)&&E!==(E=i[0].username+"")&&x(_,E)},i(i){e||(y(n.$$.fragment,i),y(m.$$.fragment,i),e=!0)},o(i){I(n.$$.fragment,i),I(m.$$.fragment,i),e=!1},d(i){i&&g(r),N(n),N(m)}}}function fe(c){let r,l,o,n,p,u,s,E,_,A,m;s=new re({});let e=c[0]&&V(c);const i=c[2].default,t=B(i,c,c[1],null);return{c(){r=v("section"),l=v("div"),o=v("div"),n=v("header"),p=v("input"),u=L(),D(s.$$.fragment),E=L(),_=v("footer"),e&&e.c(),A=L(),t&&t.c(),this.h()},l(a){r=$(a,"SECTION",{class:!0});var h=b(r);l=$(h,"DIV",{class:!0});var S=b(l);o=$(S,"DIV",{class:!0});var w=b(o);n=$(w,"HEADER",{class:!0});var R=b(n);p=$(R,"INPUT",{class:!0,type:!0,placeholder:!0}),R.forEach(g),u=P(w),O(s.$$.fragment,w),E=P(w),_=$(w,"FOOTER",{class:!0});var U=b(_);e&&e.l(U),U.forEach(g),w.forEach(g),A=P(S),t&&t.l(S),S.forEach(g),h.forEach(g),this.h()},h(){d(p,"class","input"),d(p,"type","search"),d(p,"placeholder","Search..."),d(n,"class","border-b border-surface-500/30 p-4"),d(_,"class","border-t border-surface-500/30 p-4"),d(o,"class","hidden lg:grid grid-rows-[auto_1fr_auto] max-h-screen border-r border-surface-500/30"),d(l,"class","chat w-full h-full grid grid-cols-1 lg:grid-cols-[30%_1fr]"),d(r,"class","card h-full")},m(a,h){j(a,r,h),f(r,l),f(l,o),f(o,n),f(n,p),f(o,u),T(s,o,null),f(o,E),f(o,_),e&&e.m(_,null),f(l,A),t&&t.m(l,null),m=!0},p(a,[h]){a[0]?e?(e.p(a,h),h&1&&y(e,1)):(e=V(a),e.c(),y(e,1),e.m(_,null)):e&&(ee(),I(e,1,1,()=>{e=null}),J()),t&&t.p&&(!m||h&2)&&K(t,i,a,a[1],m?W(i,a[1],h,null):Q(a[1]),null)},i(a){m||(y(s.$$.fragment,a),y(e),y(t,a),m=!0)},o(a){I(s.$$.fragment,a),I(e),I(t,a),m=!1},d(a){a&&g(r),N(s),e&&e.d(),t&&t.d(a)}}}function ue(c,r,l){let o,n;k(c,le,s=>l(3,o=s)),k(c,te,s=>l(0,n=s));let{$$slots:p={},$$scope:u}=r;return X(async()=>{o.data.length===0&&ne()}),c.$$set=s=>{"$$scope"in s&&l(1,u=s.$$scope)},c.$$.update=()=>{c.$$.dirty&1&&(n||ae(se))},[n,u,p]}class we extends q{constructor(r){super(),z(this,r,ue,fe,G,{})}}export{we as component,Ee as universal};
