import{S as M,i as z,s as B,a4 as j,k as v,a as D,y,l as $,m as E,h as g,c as P,z as N,n as d,b as G,L as f,A as R,g as I,d as L,f as J,a5 as K,a6 as Q,a7 as W,B as T,H as O,o as X,q as Y,r as Z,u as x,v as ee}from"../chunks/index.7bf39313.js";import{g as ae,c as te}from"../chunks/pocketbase.c6bc3d05.js";import{R as re}from"../chunks/rooms.5441823f.js";import{L as se,D as C,P as H}from"../chunks/constant.407e1c3c.js";import{A as oe,r as ne,a as le}from"../chunks/store.f4ca8b1d.js";import{C as F}from"../chunks/types.88dddc30.js";import{g as V}from"../chunks/util.8bfa846c.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.6842832c.js";import{L as ie}from"../chunks/LightSwitch.5cbe1102.js";function q(c){let r,n,o,l,p,u,s,b=c[0].username+"",h,A,m,e;return l=new oe({props:{src:V(F.User,c[0].id,c[0].avatar)||C,width:"w-8"}}),m=new ie({props:{bgDark:"bg-neutral-900/90"}}),{c(){r=v("div"),n=v("span"),o=v("a"),y(l.$$.fragment),p=D(),u=v("a"),s=v("span"),h=Y(b),A=D(),y(m.$$.fragment),this.h()},l(i){r=$(i,"DIV",{class:!0});var t=E(r);n=$(t,"SPAN",{class:!0});var a=E(n);o=$(a,"A",{href:!0});var _=E(o);N(l.$$.fragment,_),_.forEach(g),a.forEach(g),p=P(t),u=$(t,"A",{href:!0,class:!0});var S=E(u);s=$(S,"SPAN",{class:!0});var w=E(s);h=Z(w,b),w.forEach(g),S.forEach(g),A=P(t),N(m.$$.fragment,t),t.forEach(g),this.h()},h(){d(o,"href",H),d(n,"class","w-8"),d(s,"class","whitespace-nowrap overflow-hidden text-ellipsis"),d(u,"href",H),d(u,"class","flex-auto"),d(r,"class","w-full inline-flex gap-2 items-center")},m(i,t){G(i,r,t),f(r,n),f(n,o),R(l,o,null),f(r,p),f(r,u),f(u,s),f(s,h),f(r,A),R(m,r,null),e=!0},p(i,t){const a={};t&1&&(a.src=V(F.User,i[0].id,i[0].avatar)||C),l.$set(a),(!e||t&1)&&b!==(b=i[0].username+"")&&x(h,b)},i(i){e||(I(l.$$.fragment,i),I(m.$$.fragment,i),e=!0)},o(i){L(l.$$.fragment,i),L(m.$$.fragment,i),e=!1},d(i){i&&g(r),T(l),T(m)}}}function ce(c){let r,n,o,l,p,u,s,b,h,A,m;s=new re({});let e=c[0]&&q(c);const i=c[2].default,t=j(i,c,c[1],null);return{c(){r=v("section"),n=v("div"),o=v("div"),l=v("header"),p=v("input"),u=D(),y(s.$$.fragment),b=D(),h=v("footer"),e&&e.c(),A=D(),t&&t.c(),this.h()},l(a){r=$(a,"SECTION",{class:!0});var _=E(r);n=$(_,"DIV",{class:!0});var S=E(n);o=$(S,"DIV",{class:!0});var w=E(o);l=$(w,"HEADER",{class:!0});var U=E(l);p=$(U,"INPUT",{class:!0,type:!0,placeholder:!0}),U.forEach(g),u=P(w),N(s.$$.fragment,w),b=P(w),h=$(w,"FOOTER",{class:!0});var k=E(h);e&&e.l(k),k.forEach(g),w.forEach(g),A=P(S),t&&t.l(S),S.forEach(g),_.forEach(g),this.h()},h(){d(p,"class","input"),d(p,"type","search"),d(p,"placeholder","Search..."),d(l,"class","border-b border-surface-500/30 p-4"),d(h,"class","border-t border-surface-500/30 p-4"),d(o,"class","hidden lg:grid grid-rows-[auto_1fr_auto] max-h-screen border-r border-surface-500/30"),d(n,"class","chat w-full h-full grid grid-cols-1 lg:grid-cols-[30%_1fr]"),d(r,"class","card h-full")},m(a,_){G(a,r,_),f(r,n),f(n,o),f(o,l),f(l,p),f(o,u),R(s,o,null),f(o,b),f(o,h),e&&e.m(h,null),f(n,A),t&&t.m(n,null),m=!0},p(a,[_]){a[0]?e?(e.p(a,_),_&1&&I(e,1)):(e=q(a),e.c(),I(e,1),e.m(h,null)):e&&(ee(),L(e,1,1,()=>{e=null}),J()),t&&t.p&&(!m||_&2)&&K(t,i,a,a[1],m?W(i,a[1],_,null):Q(a[1]),null)},i(a){m||(I(s.$$.fragment,a),I(e),I(t,a),m=!0)},o(a){L(s.$$.fragment,a),L(e),L(t,a),m=!1},d(a){a&&g(r),T(s),e&&e.d(),t&&t.d(a)}}}function fe(c,r,n){let o,l;O(c,ne,s=>n(3,o=s)),O(c,te,s=>n(0,l=s));let{$$slots:p={},$$scope:u}=r;return X(async()=>{o.data.length===0&&le()}),c.$$set=s=>{"$$scope"in s&&n(1,u=s.$$scope)},c.$$.update=()=>{c.$$.dirty&1&&(l||ae(se))},[l,u,p]}class Ee extends M{constructor(r){super(),z(this,r,fe,ce,B,{})}}export{Ee as component};
